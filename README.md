# Пульт охраны банка

Это внутренний репозиторий для сотрудников банка «Сияние». Если вы попали в этот репозиторий случайно, то вы не сможете его запустить, т.к. у вас нет доступа к БД, но можете свободно использовать код вёрстки или посмотреть как реализованы запросы к БД.

Пульт охраны — это сайт, который можно подключить к удалённой базе данных с визитами и карточками пропуска сотрудников нашего банка.
### Как установить


Python3 должен быть уже установлен. 
Затем используйте `pip` (или `pip3`, есть конфликт с Python2) для установки зависимостей:
```
pip install -r requirements.txt
```
Затем клонируйте репозиторий:
```
git clone https://github.com/AnhraMainyu-dev/Bank-security-console-DevMan
```
Необходимые данные для запуска программы должны быть указаны в файле ****settings.py****.  

В файле окружения ****.env**** следует указать url с настройками подключения к базе данных в формате:  
```python
DATABASE_URL=postgres://пользователь:пароль@хост:порт/база_данных
```

Необходимые данные для запуска программы должны быть указаны в файле ****settings.py****.  


При запуске программа подключается к базе данных и получает список пропусков сотрудников и
определяет количество активных пропусков.
Модель Passcard cодержит в себе:  
- ФИО владельца пропуска
- ID пропуска
- Пароль
- Активен ли пропуск
- Дата регистрации пропуска

Модель реализована в формате:
```python
{
    '_state': ,
     'created_at': ,
     'id': ,
     'is_active': ,
     'owner_name': ,
     'passcode':
}
```


### Использование

Пример использования программы в ситуации, где нужно проверить количество активных пропусков:
```python
import os
import django
from dotenv import load_dotenv

load_dotenv()

os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'settings')
django.setup()

from datacenter.models import Passcard

if __name__ == '__main__':
    active_passcard = Passcard.objects.filter(is_active=True)
    print('Количество пропусков:', Passcard.objects.count())
    #Вывод: Количество пропусков: 100
    print("Активных пропусков:", len(active_passcard))
    #Вывод: Количество пропусков: 89
```


### Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).velopers [dvmn.org](https://dvmn.org/).pers dvmn.org.
